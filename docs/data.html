<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5 Data | nbc4va</title>
  <meta name="description" content="5 Data | nbc4va" />
  <meta name="generator" content="bookdown 0.26 and GitBook 2.6.7" />

  <meta property="og:title" content="5 Data | nbc4va" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5 Data | nbc4va" />
  
  
  

<meta name="author" content="Richard Wen rrwen.dev@gmail.com" />


<meta name="date" content="2022-05-04" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="functions.html"/>
<link rel="next" href="methods.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#acknowledgements"><i class="fa fa-check"></i><b>1.1</b> Acknowledgements</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#quick-start"><i class="fa fa-check"></i><b>1.2</b> Quick Start</a></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#background-knowledge"><i class="fa fa-check"></i><b>1.3</b> Background Knowledge</a></li>
<li class="chapter" data-level="1.4" data-path="introduction.html"><a href="introduction.html#using-the-package"><i class="fa fa-check"></i><b>1.4</b> Using the Package</a></li>
<li class="chapter" data-level="1.5" data-path="introduction.html"><a href="introduction.html#getting-help"><i class="fa fa-check"></i><b>1.5</b> Getting Help</a></li>
<li class="chapter" data-level="1.6" data-path="introduction.html"><a href="introduction.html#issues-bugs-and-fixes"><i class="fa fa-check"></i><b>1.6</b> Issues, Bugs, and Fixes</a></li>
<li class="chapter" data-level="1.7" data-path="introduction.html"><a href="introduction.html#citing-this-package"><i class="fa fa-check"></i><b>1.7</b> Citing this Package</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="basic-usage.html"><a href="basic-usage.html"><i class="fa fa-check"></i><b>2</b> Basic Usage</a>
<ul>
<li class="chapter" data-level="2.1" data-path="basic-usage.html"><a href="basic-usage.html#user-interface"><i class="fa fa-check"></i><b>2.1</b> User Interface</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="basic-usage.html"><a href="basic-usage.html#example-of-gui"><i class="fa fa-check"></i><b>2.1.1</b> Example of GUI</a></li>
<li class="chapter" data-level="2.1.2" data-path="basic-usage.html"><a href="basic-usage.html#sample-code-for-gui"><i class="fa fa-check"></i><b>2.1.2</b> Sample Code for GUI</a></li>
<li class="chapter" data-level="2.1.3" data-path="basic-usage.html"><a href="basic-usage.html#references-for-gui"><i class="fa fa-check"></i><b>2.1.3</b> References for GUI</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="basic-usage.html"><a href="basic-usage.html#file-input-and-output"><i class="fa fa-check"></i><b>2.2</b> File Input and Output</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="basic-usage.html"><a href="basic-usage.html#example-of-file-input-and-output"><i class="fa fa-check"></i><b>2.2.1</b> Example of File Input and Output</a></li>
<li class="chapter" data-level="2.2.2" data-path="basic-usage.html"><a href="basic-usage.html#sample-code-for-file-input-and-output"><i class="fa fa-check"></i><b>2.2.2</b> Sample Code for File Input and Output</a></li>
<li class="chapter" data-level="2.2.3" data-path="basic-usage.html"><a href="basic-usage.html#references-for-file-input-and-output"><i class="fa fa-check"></i><b>2.2.3</b> References for File Input and Output</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="advanced-usage.html"><a href="advanced-usage.html"><i class="fa fa-check"></i><b>3</b> Advanced Usage</a>
<ul>
<li class="chapter" data-level="3.1" data-path="advanced-usage.html"><a href="advanced-usage.html#training-a-nbc-model"><i class="fa fa-check"></i><b>3.1</b> Training a NBC Model</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="advanced-usage.html"><a href="advanced-usage.html#references-for-training-a-nbc-model"><i class="fa fa-check"></i><b>3.1.1</b> References for Training a NBC Model</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="advanced-usage.html"><a href="advanced-usage.html#evaluating-a-nbc-model"><i class="fa fa-check"></i><b>3.2</b> Evaluating a NBC Model</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="advanced-usage.html"><a href="advanced-usage.html#references-for-evaluating-a-nbc-model"><i class="fa fa-check"></i><b>3.2.1</b> References for Evaluating a NBC Model</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="advanced-usage.html"><a href="advanced-usage.html#plotting-the-top-predicted-causes"><i class="fa fa-check"></i><b>3.3</b> Plotting the Top Predicted Causes</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="advanced-usage.html"><a href="advanced-usage.html#example-of-plotting-the-top-predicted-causes"><i class="fa fa-check"></i><b>3.3.1</b> Example of Plotting the Top Predicted Causes</a></li>
<li class="chapter" data-level="3.3.2" data-path="advanced-usage.html"><a href="advanced-usage.html#references-for-plotting-the-top-predicted-causes"><i class="fa fa-check"></i><b>3.3.2</b> References for Plotting the Top Predicted Causes</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>4</b> Functions</a>
<ul>
<li class="chapter" data-level="4.1" data-path="functions.html"><a href="functions.html#utility-functions"><i class="fa fa-check"></i><b>4.1</b> Utility Functions</a></li>
<li class="chapter" data-level="4.2" data-path="functions.html"><a href="functions.html#main-functions"><i class="fa fa-check"></i><b>4.2</b> Main Functions</a></li>
<li class="chapter" data-level="4.3" data-path="functions.html"><a href="functions.html#wrapper-functions"><i class="fa fa-check"></i><b>4.3</b> Wrapper Functions</a></li>
<li class="chapter" data-level="4.4" data-path="functions.html"><a href="functions.html#extra-user-functions"><i class="fa fa-check"></i><b>4.4</b> Extra User Functions</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i><b>5</b> Data</a>
<ul>
<li class="chapter" data-level="5.1" data-path="data.html"><a href="data.html#training-and-testing-data"><i class="fa fa-check"></i><b>5.1</b> Training and Testing Data</a></li>
<li class="chapter" data-level="5.2" data-path="data.html"><a href="data.html#format-of-data"><i class="fa fa-check"></i><b>5.2</b> Format of Data</a></li>
<li class="chapter" data-level="5.3" data-path="data.html"><a href="data.html#examples-of-data"><i class="fa fa-check"></i><b>5.3</b> Examples of Data</a></li>
<li class="chapter" data-level="5.4" data-path="data.html"><a href="data.html#symptom-imputation-example"><i class="fa fa-check"></i><b>5.4</b> Symptom Imputation Example</a></li>
<li class="chapter" data-level="5.5" data-path="data.html"><a href="data.html#sample-code-for-data"><i class="fa fa-check"></i><b>5.5</b> Sample Code for Data</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="methods.html"><a href="methods.html"><i class="fa fa-check"></i><b>6</b> Methods</a>
<ul>
<li class="chapter" data-level="6.1" data-path="methods.html"><a href="methods.html#naive-bayes-classifier"><i class="fa fa-check"></i><b>6.1</b> Naive Bayes Classifier</a></li>
<li class="chapter" data-level="6.2" data-path="methods.html"><a href="methods.html#terms-for-data"><i class="fa fa-check"></i><b>6.2</b> Terms for Data</a></li>
<li class="chapter" data-level="6.3" data-path="methods.html"><a href="methods.html#terms-for-metrics"><i class="fa fa-check"></i><b>6.3</b> Terms for Metrics</a></li>
<li class="chapter" data-level="6.4" data-path="methods.html"><a href="methods.html#calculation-of-metrics-at-the-individual-level"><i class="fa fa-check"></i><b>6.4</b> Calculation of Metrics at the Individual Level</a></li>
<li class="chapter" data-level="6.5" data-path="methods.html"><a href="methods.html#calculation-of-metrics-at-the-population-level"><i class="fa fa-check"></i><b>6.5</b> Calculation of Metrics at the Population Level</a></li>
<li class="chapter" data-level="6.6" data-path="methods.html"><a href="methods.html#references-for-methods"><i class="fa fa-check"></i><b>6.6</b> References for Methods</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="developer-notes.html"><a href="developer-notes.html"><i class="fa fa-check"></i><b>7</b> Developer Notes</a>
<ul>
<li class="chapter" data-level="7.1" data-path="developer-notes.html"><a href="developer-notes.html#internal-functions"><i class="fa fa-check"></i><b>7.1</b> Internal Functions</a></li>
<li class="chapter" data-level="7.2" data-path="developer-notes.html"><a href="developer-notes.html#external-functions"><i class="fa fa-check"></i><b>7.2</b> External Functions</a></li>
<li class="chapter" data-level="7.3" data-path="developer-notes.html"><a href="developer-notes.html#extra-functions"><i class="fa fa-check"></i><b>7.3</b> Extra Functions</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">nbc4va</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number">5</span> Data<a href="data.html#data" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>This documentation page provides details on the training and testing data formats to be used as inputs in the nbc4va package.</p>
<div id="training-and-testing-data" class="section level2 hasAnchor" number="5.1">
<h2><span class="header-section-number">5.1</span> Training and Testing Data<a href="data.html#training-and-testing-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The training data (consisting of cases, causes of death for each case, and symptoms) is used as input for the Naive Bayes Classifier (NBC) algorithm to learn the probabilities for each cause of death to produce a NBC model.</p>
<p>This model can be evaluated for its performance by predicting on the testing data cases, where the predicted causes of death are compared to the causes of death in the testing data.</p>
<p>The process of learning the probabilities to produce the NBC model is known as training, and the process of evaluating the predictive performance of the trained model is known as testing.</p>
<p><strong>Key points:</strong></p>
<ul>
<li>The training data is used to build the NBC model</li>
<li>The testing data is used to evaluate the NBC model’s predictive performance</li>
<li>Ideally, the testing data should not have the same cases in the training data</li>
<li>Both the training and testing data must have the same symptoms</li>
</ul>
</div>
<div id="format-of-data" class="section level2 hasAnchor" number="5.2">
<h2><span class="header-section-number">5.2</span> Format of Data<a href="data.html#format-of-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The format of the training and testing data is structured as a table, where each column holds a variable and each row holds a death case.</p>
<p>The following format must be met in order to be used with the nbc4va package:</p>
<ul>
<li><strong>Columns (in order)</strong>: ID, Cause, Symptoms1..N</li>
<li><strong>ID</strong>: column of case identifiers formatted as text</li>
<li><strong>Cause</strong>: column of known causes of death formatted as text</li>
<li><strong>Symptoms1..N</strong>: N number of columns representing symptoms with each column containing 1 for presence of the symptom, 0 for absence of the symptom, any other values are treated as unknown</li>
<li>If the testing causes are not known, the second column <code>Cause</code> can be omitted</li>
<li>Unknown symptoms are imputed randomly from the distribution of known 1s and 0s; a symptom column will be removed from training and testing if 1s or 0s do not exist</li>
<li>Both the training and testing data must be consistent with each other (same symptoms in order) to be meaningful</li>
</ul>
</div>
<div id="examples-of-data" class="section level2 hasAnchor" number="5.3">
<h2><span class="header-section-number">5.3</span> Examples of Data<a href="data.html#examples-of-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The image below shows an example of the training data.</p>
<p><img src="nbcdatatrainex.png" /></p>
<p>The image below shows an example of the corresponding testing data.</p>
<p><img src="nbcdatatestex.png" /></p>
<p>The image below shows an example of the corresponding testing data without any causes.</p>
<p><img src="nbcdatatestncex.png" /></p>
</div>
<div id="symptom-imputation-example" class="section level2 hasAnchor" number="5.4">
<h2><span class="header-section-number">5.4</span> Symptom Imputation Example<a href="data.html#symptom-imputation-example" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Given a symptom column containing the values of each case (1, 0, 0, 1, 99, 99):</p>
<ul>
<li>1 represents presence of the symptom</li>
<li>0 represents absence of the symptom</li>
<li>99 is treated as unknown as to whether the symptom is present or absent</li>
</ul>
<p>The imputation is applied as follows:</p>
<ul>
<li>The unknown values (99, 99) are randomly imputed according to the known values (1, 0, 0, 1).</li>
<li>The known values contain half (2/4) the values as 1s and half (2/4) the values as 0s.</li>
<li>Thus, the imputation results in half (1/2) the unknown values as 1s and half (1/2) of the unknown values as 0s to match the known values distribution.</li>
<li>The possible combinations for replacing the unknown values (99, 99) are then (1, 0) and (0, 1).</li>
</ul>
<p>The symptom imputation method preserves the approximate distribution of the known values in an attempt to avoid dropping entire cases or symptoms.</p>
</div>
<div id="sample-code-for-data" class="section level2 hasAnchor" number="5.5">
<h2><span class="header-section-number">5.5</span> Sample Code for Data<a href="data.html#sample-code-for-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Run the following code using <code>nbc4vaData()</code> in the R console to view the example data included in the nbc4va package:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="data.html#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(nbc4va) <span class="co"># load the nbc4va package</span></span>
<span id="cb13-2"><a href="data.html#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(nbc4vaData) <span class="co"># load the example data</span></span>
<span id="cb13-3"><a href="data.html#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="fu">View</span>(nbc4vaData) <span class="co"># view the sample data in the nbc4va package</span></span>
<span id="cb13-4"><a href="data.html#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(nbc4vaDataRaw) <span class="co"># load the example data with unknown symptom values</span></span>
<span id="cb13-5"><a href="data.html#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="fu">View</span>(nbc4vaDataRaw) <span class="co"># view the sample data with unknown symptom values</span></span></code></pre></div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="functions.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="methods.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": false,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
